<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>

    <title>Title</title>
    <link rel="stylesheet" href="static/reset.css">
</head>
<style>
    .blog{
        margin: 10px;
        padding-bottom: 10px;
        border-bottom: solid 1px rgba(0,0,0,0.1);;
        overflow: hidden;
    }

    .img-contianer{
        width: 120px;
        height: 70px;
        background-color: #666;
        float: left;
    }
    .img-contianer img{
        width: 100%;
        height: 100%;
    }
    .info{
        margin-left: 128px;
    }
    .title{
        font-size: 16px;
        font-weight: 700;
        line-height: 2;
        color: rgba(0,0,0,0.6);
    }
    .cotent{
        color: rgba(0,0,0,0.6);
        overflow: hidden;
        font-size: 12px;
        line-height: 1.6;
        text-overflow: ellipsis;
        display: -webkit-box;
        -webkit-line-clamp:2;
        -webkit-box-orient: vertical;
    }
</style>

<body>
    <div id="blogList">
        <ul>
            <li class="blog" v-for="blog in blogs" v-on:click="readBlog(blog.id)">
                <div class="img-contianer">
                    <img v-bind:src="blog.imgSrc" v-bind:alt="blog.title">
                </div>
                <div class="info">
                    <div class="title">{{blog.title}}</div>
                    <div class="cotent">{{blog.content}}</div>
                </div>
            </li>

        </ul>

    </div>
</body>
<script>
    new Vue({
        el:"#blogList",
        data: {
            blogs:{},

        },
        methods:{
            findInfo:function (strs, len) {
                var newLength = 0;
                var newStr = "";
                var chineseRegex = /[^\x00-\xff]/g;

                //过滤图片
                var reTag = /<img(?:.|\s)*?>/g;
                var str=strs.replace(reTag,'');

                //过滤html
                str=str.replace(/<[^>]+>/g,"");

                var singleChar = "";
                var strLength = str.replace(chineseRegex,"**").length;

                for(var i = 0;i < strLength;i++) {
                    singleChar = str.charAt(i).toString();
                    if(singleChar.match(chineseRegex) != null) {
                        newLength += 2;
                    }else {
                        newLength++;
                    }
                    if(newLength > len) {
                        break;
                    }
                    newStr += singleChar;
                }
                if(strLength > len) {
                    newStr += "...";
                }

                return newStr;
            }
        }
    });
</script>
</html>