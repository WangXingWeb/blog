<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>

    <title>设置</title>
    <link rel="stylesheet" href="static/reset.css">
    <link rel="stylesheet" href="comp/mint-ui/mint-ui.css">
    <link rel="stylesheet" href="static/base.css">
    <link rel="stylesheet" href="static/index.css">
    <link rel="stylesheet" href="static/iconfont.css">


    <script src="comp/vue.js"></script>
    <script src="comp/mint-ui/mint-ui.js"></script>
    <script src="comp/bmob-min.js"></script>
    <script src="comp/bmobMain.js"></script>
</head>
<style>
    .item{
        padding: 10px;
        background-color: #fff;
    }
    .content .interval:first-child{
        margin-top: 55px;
    }
</style>
<body>
<div id="app">
    <mt-header fixed  title="设置" class="wx-header">
        <mt-button icon="back" @click='router()' slot="left">返回</mt-button>
        <mt-button icon="more" slot="right"></mt-button>
    </mt-header>
    <div class="content">
        <div class="item interval" @click="router('changePassword')">
            修改密码
        </div>
        <div class="item interval" @click="logout">
            退出登录
        </div>
    </div>
</div>
</body>
<script>
    new Vue({
        el:"#app",
        data: {

        },
        created:function () {
            mainBmob.init();
            var currentUser = Bmob.User.current();
            this.user=currentUser;
        },
        methods:{
            router:function (url) {
                if(url){
                    window.location.href = url+'.html';
                }else{
                    history.back();
                }
            },
            logout:function () {
                localStorage.clear();
                this.$toast('已退出登录');
                setTimeout(function () {
                    window.location.href = 'login.html';
                },2000);
            }
        }
    });
</script>
</html>